<script>
  (function() {
    window.ApplicationInstanceBehavior = {

      /**
       * Gets the URI to get json data of application instance represented by the given parameter.
       * @param applicationInstance a application instance object or a its identifier.
       * @returns {string} an URI.
       */
      getApplicationInstanceUri : function(applicationInstance) {
        return "components/" + this._getObjectId(applicationInstance);
      },

      /**
       * Gets the page URL of a component represented by the given parameter.
       * @param component a component object or a componentId
       * @returns {string} a page URL.
       */
      getApplicationInstancePageUrl : function(component) {
        return "/instances/" + this._getObjectId(component);
      },

      /**
       * Gets the page URL of a component page represented by given parameters.
       * @param component a component object or a componentId
       * @param resourceType the type of the resource (ex. posts)
       * @param resourceId the identifier of the resource (ex. 1)
       * @returns {string} a application internal page URL.
       */
      getApplicationInstanceResourcePageUrl : function(component, resourceType, resourceId) {
        return this.getApplicationInstancePageUrl(component) + '/' +
            resourceType + '/' + resourceId;
      },

      /**
       * Indicates if the given content json object represents a space.
       * @param applicationInstance a json object that represents an application instance.
       * @param applicationNameToVerify the application name to verify.
       * @returns {boolean} an URI.
       */
      isApplicationNameEqualTo : function(applicationInstance, applicationNameToVerify) {
        return this.isValidApplicationInstance(applicationInstance) &&
            applicationInstance.name === applicationNameToVerify;
      },

      /**
       * Indicates if the given object represents a valid identifier of application instance.
       */
      isValidApplicationInstanceId : function(instanceId) {
        return (typeof instanceId === 'string') && instanceId.length > 0;
      },

      /**
       * Indicates if the given content json object represents an application instance.
       * @param content a json object.
       * @returns {boolean} true if it represents a space, false otherwise.
       */
      isObjectTypeOfComponent : function(content) {
        return content != null && (typeof content === 'object') && content.type === 'component';
      },

      /**
       * Indicates if the given object represents a valid application instance object.
       */
      isValidApplicationInstance : function(object) {
        return this.isObjectTypeOfComponent(object) && this.isValidApplicationInstanceId(object.id);
      },

      /**
       * Gets the id attribute of the given parameter.
       * @param object an object or a string.
       * @returns {*} the string identifier.
       * @private
       */
      _getObjectId : function(object) {
        var objectId = object;
        if (typeof object === 'object' && object != null) {
          objectId = object.id;
          if (object.type === 'component') {
            objectId = object.name + objectId;
          }
        }
        return objectId;
      }
    };
  })();
</script>
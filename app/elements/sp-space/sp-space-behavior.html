<script>
  (function() {
    window.SpaceBehavior = {

      /**
       * Gets the URI to get json data of space represented by the given parameter.
       * @param space a space object or a spaceId
       * @returns {string} an URI.
       */
      getSpaceUri : function(space) {
        return "spaces/" + this._getObjectId(space);
      },

      /**
       * Gets the URI to get all the direct spaces of a space represented by the given parameter.
       * @param space a space object or a spaceId
       * @returns {string} an URI.
       */
      getSpaceContentUri : function(space) {
        return "spaces/" + this._getObjectId(space) + "/content";
      },

      /**
       * Indicates if the given content json object represents a space.
       * @param content a json object.
       * @returns {boolean} true if it represents a space, false otherwise.
       */
      isContentTypeOfSpace : function(content) {
        return content != null && (typeof content === 'object') && content.type === 'space';
      },

      /**
       * Gets the page URL of space represented by the given parameter.
       * This method handles the special case of home page. If the identifier of the space is
       * equals to '-1', then the homepage page URL is returned.
       * @param space a space object or a spaceId
       * @returns {string} a page URL.
       */
      getSpacePageUrl : function(space) {
        var spaceId = this._getObjectId(space);
        if (spaceId === '-1') {
          return '/';
        }
        return "/spaces/" + this._getObjectId(space);
      },

      /**
       * Gets the page URL of a component represented by the given parameter.
       * @param component a component object or a componentId
       * @returns {string} a page URL.
       */
      getApplicationInstancePageUrl : function(component) {
        return "/instances/" + this._getObjectId(component);
      },

      /**
       * Indicates if the given object represents a valid identifier of space.
       */
      isValidSpaceId : function(spaceId) {
        return (typeof  spaceId === 'string') && spaceId.length > 0 && spaceId !== '-1';
      },

      /**
       * Indicates if the given object represents a valid space object.
       */
      isValidSpace : function(object) {
        return this.isContentTypeOfSpace(object) && (typeof object.id === 'string') &&
            object.id.length > 0;
      },

      /**
       * Gets the id attribute of the given parameter.
       * @param object an object or a string.
       * @returns {*} the string identifier.
       * @private
       */
      _getObjectId : function(object) {
        var objectId = object;
        if (object && typeof object !== 'string') {
          objectId = object.id;
          if (object.type === 'component') {
            objectId = object.name + objectId;
          }
        }
        return objectId;
      }
    };
  })();
</script>